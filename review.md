## 拍卖项目
### 提高读qps
#### 方案
目前采用的方式是write through模式，也就是在写操作时更新缓存。采取的策略是先加redis分布式锁，防止更新缓存时并发读，执行完业务逻辑后先删除缓存，再更新mysql，最后重建redis缓存。
把缓存操作都收敛在写请求，并且写请求加分布式锁，有效防止读写并发导致的写入脏缓存数据问题。
#### 其他方案对比
##### mysql读写分离
一主多从的设计，读走从库，写走主库。对于拍卖这种特殊的场景，可以读写都走主库。
###### 主从延迟原因：
（1）主库正在进行大事务操作，这时应该将大事务拆分成小事务，分批次提交。
（2）主库正在进行DDL或DML操作，比如更改索引。这种操作应该放在负载低的时间段
##### 主从复制的模式
（1）异步复制
（2）半同步复制：master更新操作写入binlog之后会主动通知slave，slave接收到之后写入relay log 即可应答，master只要收到至少一半ack应答，则会提交事务
（3）同步复制：全同步复制必须收到所有从库的ack，才会提交事务
